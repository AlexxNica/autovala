<html>
<head>
<link rel="stylesheet" type="text/css" href="view.css" />
</head>
<body bgcolor="#E0E0E0">
<div class="main_frame">
<p><a href="index.html">Home</a></p>
<h1>Keeping your changes</h1>

<p>By default, nearly all the lines in the project file starts with an asterisk.
Those lines contains automatically created commands, and every time the user
launches the command "autovala refresh", they are deleted and recreated using
the current files in the disk.</p>

<p>Lines without the asterisk contains manually set commands, and they are not
deleted before recreating the project file.</p>

<p>Also, when an automatically created vala<em>library or vala</em>binary (this is,
prefixed with the asterisk) contains at least one subcommand added
manually, that command will be considered manually added too, so it will
be preserved even if you delete its folder. This is made this way to ensure
that the manual data is preserver always.</p>

<p>Example: let's suppose we have this project file:</p>

<pre><code>### AutoVala Project ###
autovala_version: 1
project_name: autovala
vala_version: 0.16
*po: po

*vala_binary: src/autovala
*version: 1.0.0
*vala_package: posix
*vala_check_package: gee-1.0
*vala_check_package: glib-2.0
*vala_check_package: gtk+-3.0
*vala_source: cmake.vala
*vala_source: generate.vala
*vala_source: configuration.vala
*vala_source: autovala.vala
</code></pre>

<p>We can see that all the commands have been added automatically, because they
are prepended by an asterisk.</p>

<p>Let's say that the version number is incorrect; we want the version number
0.1.0. So we edit the file and modify it (incorrectly) to look like this:</p>

<pre><code>### AutoVala Project ###
autovala_version: 1
project_name: autovala
vala_version: 0.16
*po: po

*vala_binary: src/autovala
*version: 0.1.0
*vala_package: posix
*vala_check_package: gee-1.0
*vala_check_package: glib-2.0
*vala_check_package: gtk+-3.0
*vala_source: cmake.vala
*vala_source: generate.vala
*vala_source: configuration.vala
*vala_source: autovala.vala
</code></pre>

<p>This change is <em>INCORRECT</em>, because it keeps the asterisk in the changed line.
That means that the next time that "autovala refresh" or "autovala update"
is run, that change will disappear and will be replaced by the old guess.</p>

<p>To ensure that the change remains, it must be put in a line <em>without</em> the asterisk
This is:</p>

<pre><code>### AutoVala Project ###
autovala_version: 1
project_name: autovala
vala_version: 0.16
*po: po

*vala_binary: src/autovala
version: 0.1.0
*vala_package: posix
*vala_check_package: gee-1.0
*vala_check_package: glib-2.0
*vala_check_package: gtk+-3.0
*vala_source: cmake.vala
*vala_source: generate.vala
*vala_source: configuration.vala
*vala_source: autovala.vala
</code></pre>

<p>Now the change will remain, no matter how many times "autovala refresh"
or "autovala update" is run.</p>
<p><a href="index.html">Home</a></p>
</div>
</body>
</html>
